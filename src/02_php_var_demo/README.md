# `PHP` 变量
> 变量是存储信息的容器

## `PHP` 变量
正如代数，`PHP` 变量可用于保存值（`x=5`）和表达式（`z=x+y`）。
变量的名称可以很短（比如 `x` 和`y`），也可以取更具描述性的名称（比如 `carname`、`total_volume`）。

### `PHP` 变量规则：
- 变量以 `$` 符号开头，其后是变量的名称
- 变量名称必须以字母或下划线开头
- 变量名称不能以数字开头
- 变量名称只能包含字母数字字符和下划线（`A-z`、`0-9` 以及`_`）
- 变量名称对大小写敏感（`$y` 与 `$Y` 是两个不同的变量）

**注释：** `PHP` 变量名称对大小写敏感！

## 创建 `PHP` 变量
> `PHP` 没有创建变量的命令。

变量会在首次为其赋值时被创建
```php
<?php
  $txt="Hello world!";
  $x=5;
  $y=10.5;
?>
```
以上语句执行后，变量 `txt` 会保存值 `Hello world!`，变量 `x` 会保存值 `5`，变量 `y` 会保存值 `10.5`。
**注释：** 如果您为变量赋的值是文本，请用引号包围该值。

## `PHP` 是一门类型松散的语言
在上面的例子中，请注意我们不必告知 `PHP` 变量的数据类型。
`PHP` 根据它的值，自动把变量转换为正确的数据类型。
在诸如 `C` 和 `C++` 以及 `Java` 之类的语言中，程序员必须在使用变量之前声明它的名称和类型。

## `PHP` 变量作用域
> 在 `PHP` 中，可以在脚本的任意位置对变量进行声明。
> 变量的作用域指的是变量能够被引用/使用的那部分脚本。

`PHP` 有三种不同的变量作用域：
- `local`（局部）
- `global`（全局）
- `static`（静态）

### `Local` 和 `Global` 作用域
函数**之外**声明的变量拥有 `Global` 作用域，只能在函数以外进行访问。
函数**内部**声明的变量拥有 `LOCAL` 作用域，只能在函数内部进行访问。

下面的例子测试了带有局部和全局作用域的变量：
```php
<?php
  $x=5; // 全局作用域

  function myTest() {
    $y=10; // 局部作用域
    echo "<p>测试函数内部的变量：</p>";
    echo "变量 x 是：$x";
    echo "<br>";
    echo "变量 y 是：$y";
  } 

  myTest();

  echo "<p>测试函数之外的变量：</p>";
  echo "变量 x 是：$x";
  echo "<br>";
  echo "变量 y 是：$y";
?>
```
以上输出为：
```console
在函数内部测试变量：

变量 x 是：
变量 y 是：10
在函数之外测试变量：

变量 x 是：5
变量 y 是：
```
**注释**：您可以在不同的函数中创建名称相同的局部变量，因为局部变量只能被在其中创建它的函数识别。

## `PHP` `global` 关键词
> `global` 关键词用于在函数内访问全局变量。

要做到这一点，请在（函数内部）变量前面使用 `global` 关键词：
```php
<?php
  $x=5;
  $y=10;

  function myTest() {
    global $x,$y;
    $y=$x+$y;
  }

  myTest();
  echo $y; // 输出 15
?>
```

`PHP` 同时在名为 `$GLOBALS[index]` 的数组中存储了所有的全局变量。下标存有变量名。这个数组在函数内也可以访问，并能够用于直接更新全局变量。
```php
<?php
  $x=5;
  $y=10;

  function myTest() {
    $GLOBALS['y']=$GLOBALS['x']+$GLOBALS['y'];
  } 

  myTest();
  echo $y; // 输出 15
?>
```

## `PHP` `static` 关键词
通常，当函数完成/执行后，会删除所有变量。不过，有时我需要不删除某个局部变量。实现这一点需要更进一步的工作。
要完成这一点，请在您首次声明变量时使用 `static` 关键词：
```php
<?php
  function myTest() {
    static $x=0;
    echo $x;
    $x++;
  }

  myTest();
  myTest();
  myTest();
?>
```
然后，每当函数被调用时，这个变量所存储的信息都是函数最后一次被调用时所包含的信息。

**注释**：该变量仍然是函数的局部变量
